<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_core_global_plugins extends \\IPS\\Theme\\Template\n{\n\t\t\tfunction bdayForm_year( $name, $value, $error='' ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\n<select name=\"bday[year]\">\n\t<option value='0'><\/option>\n\t\nCONTENT;\n\nforeach ( array_reverse( range( date('Y') - 150, date('Y') ) ) as $year ):\n$return .= <<<CONTENT\n\n\t\t<option value='\nCONTENT;\n$return .= htmlspecialchars( $year, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' \nCONTENT;\n\nif ( $value['year'] == $year  ):\n$return .= <<<CONTENT\nselected\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\nCONTENT;\n$return .= htmlspecialchars( $year, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/option>\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n<\/select>\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"bdayForm_year prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction countryFieldCvh( $name, $value ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n<ul class=\"ipsField_fieldList\">\n\t<li>\n\t\t<select name=\"\nCONTENT;\n$return .= htmlspecialchars( $name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" data-role=\"countrySelect\" data-sort>\n\t\t\t<option value='' \nCONTENT;\n\nif ( !$value ):\n$return .= <<<CONTENT\nselected\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'country', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/option>\n\t\t\t\nCONTENT;\n\nforeach ( \\IPS\\GeoLocation::$countries as $k ):\n$return .= <<<CONTENT\n\n\t\t\t\t<option value=\"$k\" \nCONTENT;\n\nif ( $k == $value ):\n$return .= <<<CONTENT\nselected\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\nCONTENT;\n\n$val = \"country-{$k}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t<\/option>\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/select>\n\t<\/li>\n<\/ul>\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"countryFieldCvh prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction countryFieldCvhDisplay( $value, $titleValue, $css ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n<span class=\"ipsFlag ipsFlag-\nCONTENT;\n$return .= htmlspecialchars( $value, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $css, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" data-ipsTooltip title=\"\nCONTENT;\n\n$val = \"country-{$titleValue}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\" alt=\"\nCONTENT;\n\n$val = \"country-{$titleValue}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\"><\/span>\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"countryFieldCvhDisplay prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction donateWidget( $form, $orientation='vertical' ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n<h3 class='ipsType_reset ipsWidget_title'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_donateWidgetTitle_value', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n<div class='ipsWidget_inner'>\n\t\nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsPad_half'>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n  \n    \n    \nCONTENT;\n\nif ( \\IPS\\Request::i()->_donated ):\n$return .= <<<CONTENT\n\n        <div class='ipsMessage ipsMessage_success'>\n            \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'donated_thankyou', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n        <\/div>\n    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n    \n    <div class='ipsPos_center ipsPad_half ipsType_center'>\n        \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'dsb_general_note_value', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n    <\/div>\n\n    \nCONTENT;\n\nif ( \\IPS\\Settings::i()->dsb_status_bar AND \\IPS\\Settings::i()->dsb_goal_amount AND \\IPS\\Settings::i()->dsb_donation_amount ):\n$return .= <<<CONTENT\n\n    \t<br \/><div class='ipsGrid_span6 ipsResponsive_hidePhone'>\n    \t\t<div class='ipsPos_center ipsType_center' data-ipsTooltip data-ipsTooltip-label=\"\nCONTENT;\n\n$sprintf = array(100 \/ \\IPS\\Settings::i()->dsb_goal_amount * \\IPS\\Settings::i()->dsb_donation_amount); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'percent_goal_reached', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\"}\">\n    \t\t\t<span class=\"ipsAttachment_progress\"><span style='width: \nCONTENT;\n\n$return .= htmlspecialchars( 100 \/ \\IPS\\Settings::i()->dsb_goal_amount * \\IPS\\Settings::i()->dsb_donation_amount, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n%'><\/span><\/span><br>\n    \t\t\t<span class='ipsType_light ipsType_small ipsResponsive_hidePhone'>\nCONTENT;\n\n$sprintf = array(100 \/ \\IPS\\Settings::i()->dsb_goal_amount * \\IPS\\Settings::i()->dsb_donation_amount); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'percent_goal_reached', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n<\/span>\n    \t\t<\/div>\n    \t<\/div>  \n    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n    \nCONTENT;\n\nif ( \\IPS\\Settings::i()->dsb_paypal_code ):\n$return .= <<<CONTENT\n  \n        \nCONTENT;\n\n$return .= \\IPS\\Settings::i()->dsb_paypal_code;\n$return .= <<<CONTENT\n\n    \nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n        {$form} \n    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \n    \n    \nCONTENT;\n\nif ( !\\IPS\\Settings::i()->devfuse_copy_num_free ):\n$return .= <<<CONTENT\n  \n        <div class='ipsType_center ipsType_small ipsType_light'>Donate Sidebar by <a href='http:\/\/www.devfuse.com' title='View DevFuse home page'>DevFuse<\/a><\/div>\n    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \n\n\t\nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \n<\/div>\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"donateWidget prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction lrm( $users, $format, $orientation='vertical' ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( !empty( $users )  ):\n$return .= <<<CONTENT\n\n\t<h3 class='ipsWidget_title ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_lrm', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\n\t\nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsPad_half ipsWidget_inner'>\n\t\t\t<ul class='ipsDataList ipsDataList_reducedSpacing'>\n\t\t\t\t\nCONTENT;\n\nforeach ( $users as $user ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li class='ipsDataItem'>\n\t\t\t\t\t\t<div class='ipsDataItem_icon ipsPos_top'>\n\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $user, 'tiny' );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class='ipsDataItem_main'>\n\t\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $user->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsDataItem_title ipsType_break'>\nCONTENT;\n\nif ( $format ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userLinkFromData( $user->member_id, $user->name, $user->members_seo_name, $user->member_group_id );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n{$user->link()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/a><br>\n\t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'lrm_joined', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n \nCONTENT;\n\n$val = ( $user->joined instanceof \\IPS\\DateTime ) ? $user->joined : \\IPS\\DateTime::ts( $user->joined );$return .= $val->html();\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/li>\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/div>\n\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t<div class='ipsWidget_inner'>\n\t\t\t<ul class='ipsDataList'>\n\t\t\t\t\nCONTENT;\n\nforeach ( $users as $user ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li class='ipsDataItem'>\n\t\t\t\t\t\t<div class='ipsDataItem_icon ipsPos_top'>\n\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $user, 'tiny' );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class='ipsDataItem_main'>\n\t\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $user->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsDataItem_title ipsType_break'>\nCONTENT;\n\nif ( $format ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userLinkFromData( $user->member_id, $user->name, $user->members_seo_name, $user->member_group_id );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n{$user->link()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/a><br>\n\t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'members_joined', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n \nCONTENT;\n\n$val = ( $user->joined instanceof \\IPS\\DateTime ) ? $user->joined : \\IPS\\DateTime::ts( $user->joined );$return .= $val->html();\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/li>\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"lrm prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction memberStatusPersonalCard( $member ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $member->mod_posts ):\n$return .= <<<CONTENT\n\n\t<li class=\"ipsDataItem\">\n\t\t<span class=\"ipsDataItem_generic ipsDataItem_size3\"><strong>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'member_restriction', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong><\/span>\n\t\t<span data-ipsTooltip title=\"\nCONTENT;\n\nif ( $member->mod_posts == -1 ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_modq_perm', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$sprintf = array(\\IPS\\DateTime::ts( $member->mod_posts )); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_modq_temp', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" class=\"ipsDataItem_main\"><span class=\"ipsBadge ipsBadge_style6\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_modq', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span><\/span>\n\t<\/li>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $member->restrict_post ):\n$return .= <<<CONTENT\n\n\t<li class=\"ipsDataItem\">\n\t\t<span class=\"ipsDataItem_generic ipsDataItem_size3\"><strong>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'member_restriction', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong><\/span>\n\t\t<span data-ipsTooltip title=\"\nCONTENT;\n\nif ( $member->restrict_post == -1 ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_nopost_perm', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$sprintf = array(\\IPS\\DateTime::ts( $member->restrict_post )); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_nopost_temp', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" class=\"ipsDataItem_main\"><span class=\"ipsBadge ipsBadge_style3\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_nopost', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span><\/span>\n\t<\/li>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $member->temp_ban ):\n$return .= <<<CONTENT\n\n\t<li class=\"ipsDataItem\">\n\t\t<span class=\"ipsDataItem_generic ipsDataItem_size3\"><strong>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'member_restriction', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong><\/span>\n\t\t<span data-ipsTooltip title=\"\nCONTENT;\n\nif ( $member->temp_ban == -1 ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_banned_perm', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$sprintf = array(\\IPS\\DateTime::ts( $member->temp_ban )); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_banned_temp', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" class=\"ipsDataItem_main\"><span class=\"ipsBadge ipsBadge_style5\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_banned', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span><\/span>\n\t<\/li>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"memberStatusPersonalCard prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction nbSecGroupIconsHidePrimary( $user, $area, $item ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Settings::i()->nb_sec_gr_icons_reorder_grs_on and \\IPS\\Settings::i()->nb_sec_gr_icons_reorder_grs_prim ):\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $area == 1 and \\IPS\\Settings::i()->nb_sec_gr_icons_profile_on and (\\IPS\\Settings::i()->nb_sec_gr_icons_profile_groups == 'all' or \\IPS\\Member::loggedIn()->inGroup(explode(',', \\IPS\\Settings::i()->nb_sec_gr_icons_profile_groups))) ):\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $user->mgroup_others ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $area == 2 and \\IPS\\Settings::i()->nb_sec_gr_icons_post_on and (\\IPS\\Settings::i()->nb_sec_gr_icons_post_forums == 0 or in_array($item->forum_id, explode(',', \\IPS\\Settings::i()->nb_sec_gr_icons_post_forums))) and (\\IPS\\Settings::i()->nb_sec_gr_icons_post_groups == 'all' or \\IPS\\Member::loggedIn()->inGroup(explode(',', \\IPS\\Settings::i()->nb_sec_gr_icons_post_groups))) ):\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $user->author()->mgroup_others ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"nbSecGroupIconsHidePrimary prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction nbSecGroupIconsPost( $item, $comment, $otherGroups=array() ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( count($otherGroups) ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nforeach ( $otherGroups as $grOther ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( $icon = \\IPS\\Member\\Group::load( $grOther )->g_icon ):\n$return .= <<<CONTENT\n\n\t\t\t<li class='nbSecGroupIconsPost ipsResponsive_hidePhone ipsPad_bottom' data-ipsTooltip title='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member\\Group::load( $grOther )->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><img src='\nCONTENT;\n\n$return .= \\IPS\\File::get( \"core_Theme\", $icon )->url;\n$return .= <<<CONTENT\n' alt='' class='cAuthorGroupIcon'><\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"nbSecGroupIconsPost prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction nbSecGroupIconsProfile( $member, $otherGroups=array() ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( count($otherGroups) ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nforeach ( $otherGroups as $grOther ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( $icon = \\IPS\\Member\\Group::load( $grOther )->g_icon ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='ipsType_center ipsPad_half nbSecGroupIconsProfile ipsResponsive_hidePhone' data-ipsTooltip title='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member\\Group::load( $grOther )->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><img src='\nCONTENT;\n\n$return .= \\IPS\\File::get( \"core_Theme\", $icon )->url;\n$return .= <<<CONTENT\n' alt=''><\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"nbSecGroupIconsProfile prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction steam( $url ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\n<a href='\nCONTENT;\n$return .= htmlspecialchars( $url, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='ipsButton ipsButton_verySmall ipsButton_fullWidth ipsSocial ipsSocial_steam'>\n\t<span class='ipsSocial_icon'><i class='fa fa-steam'><\/i><\/span>\n\t<span class='ipsSocial_text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'login_steam', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n<\/a>\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"steam prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction whowasonline( $members, $memberCount, $hour, $stat, $orientation='vertical' ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n<h3 class='ipsType_reset ipsWidget_title'>\n\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_whowasonline', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n<\/h3>\n<div class='ipsWidget_inner \nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\nipsPad\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t<span class='ipsType_light ipsType_unbold ipsType_medium'>\nCONTENT;\n\n$sprintf = array($hour); $pluralize = array( $memberCount ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'who_was_online_last_x', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf, 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n<\/span>\n\t<br>\n\t\nCONTENT;\n\nif ( $stat !== false && $orientation!='vertical' ):\n$return .= <<<CONTENT\n\n\t\t<span class='ipsType_light ipsType_unbold ipsType_medium'>{$stat}<\/span>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $memberCount ):\n$return .= <<<CONTENT\n\n\t\t<ul class='ipsList_inline ipsList_csv ipsList_noSpacing'>\n\t\t\t\nCONTENT;\n\nforeach ( $members as $row ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li>\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userLinkFromData( $row['member_id'], $row['name'], $row['members_seo_name'], $row['member_group_id'] );\n$return .= <<<CONTENT\n<\/li>\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/ul>\n\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t<p class='ipsType_reset ipsType_medium ipsType_light'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'who_was_online_users_empty', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/div>\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::i( \\LOG_ERR )->write( \"whowasonline prevented from running-\n\n\" . get_class( $exception ) . \"\n\" . $exception->getCode() . \": \" . $exception->getMessage() . \"\n\" . $exception->getTraceAsString() );\n\t\t}\n\t\treturn $return;\n}}"
VALUE;
